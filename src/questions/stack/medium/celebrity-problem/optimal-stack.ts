/**
 * Celebrity Problem - STACK SOLUTION (Optimal)
 * visualized ->
 * https://gemini.google.com/gem/9013c4cd97d5/391935126ba966e6
 *
 * Approach: Use stack to eliminate non-celebrities one by one
 * Time Complexity: O(n)
 * Space Complexity: O(n) - for stack
 *
 * KEY INSIGHT:
 * Har comparison mein EK person eliminate hota hai!
 *
 * If A knows B:
 *   â†’ A is NOT celebrity (celebrity kisi ko nahi jaanta)
 *   â†’ Eliminate A, keep B
 *
 * If A does NOT know B:
 *   â†’ B is NOT celebrity (sab celebrity ko jaante hain)
 *   â†’ Eliminate B, keep A
 *
 * n-1 comparisons mein n-1 log eliminate â†’ 1 CANDIDATE bacha!
 * Then verify if candidate is actually celebrity.
 */

namespace CelebrityStack {
  /**
   * Main function - Find the celebrity using Stack
   *
   * @param M - NÃ—N matrix where M[i][j] = 1 means i knows j
   * @returns Celebrity's index or -1 if no celebrity
   */
  export function findCelebrity(M: number[][]): number {
    const n = M.length;

    // Edge Case: Less than 2 people
    if (n < 2) return -1;

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PHASE 1: Push all persons onto stack
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // WHY? Stack mein sab log daal do, phir compare karke eliminate karo
    const stack: number[] = [];

    for (let i = 0; i < n; i++) {
      stack.push(i);
    }
    // Stack: [0, 1, 2, 3, ..., n-1]

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PHASE 2: Elimination - Pop 2, compare, push back potential celebrity
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // WHY while loop? Jab tak 1 se zyada log hain, compare karte raho
    // Each iteration eliminates exactly 1 person

    while (stack.length > 1) {
      // Pop two persons to compare
      const a = stack.pop()!; // Last person
      const b = stack.pop()!; // Second last person

      // Compare: Does A know B?
      if (M[a][b] === 1) {
        // A knows B
        // â†’ A jaanta hai kisi ko
        // â†’ A celebrity NAHI ho sakta
        // â†’ Eliminate A, keep B
        stack.push(b);
      } else {
        // A does NOT know B
        // â†’ Koi hai jo B ko nahi jaanta
        // â†’ B celebrity NAHI ho sakta (sab ko celebrity jaanna chahiye)
        // â†’ Eliminate B, keep A
        stack.push(a);
      }
    }

    // After n-1 comparisons, only 1 person remains
    // This is our CANDIDATE (not guaranteed celebrity yet!)
    const candidate = stack.pop()!;

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // PHASE 3: Verification - Is candidate really a celebrity?
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // WHY verify? Elimination sirf candidate deta hai, guarantee nahi
    //
    // Example: M = [[0,1], [1,0]] (both know each other)
    // - Compare 0 and 1: 0 knows 1 â†’ eliminate 0, keep 1
    // - Candidate = 1
    // - But M[1][0] = 1 â†’ 1 also knows 0!
    // - So 1 is NOT a celebrity
    //
    // We need to verify BOTH conditions:
    // 1. Candidate knows NO ONE (row check)
    // 2. EVERYONE knows candidate (column check)

    for (let i = 0; i < n; i++) {
      // Skip self comparison
      if (i === candidate) continue;

      // CHECK 1: Candidate should NOT know anyone
      // If candidate knows person i, candidate is NOT celebrity
      if (M[candidate][i] === 1) {
        return -1; // Failed! Candidate knows someone
      }

      // CHECK 2: Everyone should know candidate
      // If person i doesn't know candidate, candidate is NOT celebrity
      if (M[i][candidate] === 0) {
        return -1; // Failed! Someone doesn't know candidate
      }
    }

    // Both checks passed! Candidate is the CELEBRITY!
    return candidate;
  }

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * DRY RUN - COMPLETE VISUALIZATION
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * Example:
   * M = [
   *   [0, 1, 1, 0],   // Person 0 knows: 1, 2
   *   [0, 0, 0, 0],   // Person 1 knows: nobody â† CELEBRITY!
   *   [1, 1, 0, 0],   // Person 2 knows: 0, 1
   *   [0, 1, 1, 0]    // Person 3 knows: 1, 2
   * ]
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * PHASE 1: Push all persons to stack
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * i = 0: stack.push(0) â†’ Stack: [0]
   * i = 1: stack.push(1) â†’ Stack: [0, 1]
   * i = 2: stack.push(2) â†’ Stack: [0, 1, 2]
   * i = 3: stack.push(3) â†’ Stack: [0, 1, 2, 3]
   *
   * Visual:
   *   Stack (top â†’)
   *   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
   *   â”‚ 0 â”‚ 1 â”‚ 2 â”‚ 3 â”‚ â† top
   *   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * PHASE 2: Elimination
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * Iteration 1: stack.length = 4 > 1 âœ“
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   *   Pop a = 3 (top)
   *   Pop b = 2 (new top)
   *
   *   Compare: Does 3 know 2?
   *   M[3][2] = 1 â†’ YES! 3 knows 2
   *
   *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   *   â”‚  3 â”€â”€knowsâ”€â”€> 2                         â”‚
   *   â”‚                                         â”‚
   *   â”‚  Person 3 jaanta hai kisi ko            â”‚
   *   â”‚  â†’ 3 celebrity NAHI ho sakta            â”‚
   *   â”‚  â†’ Eliminate 3, keep 2                  â”‚
   *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *   stack.push(2)
   *
   *   Stack after:
   *   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
   *   â”‚ 0 â”‚ 1 â”‚ 2 â”‚ â† top
   *   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
   *
   *   Eliminated: [3]
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * Iteration 2: stack.length = 3 > 1 âœ“
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   *   Pop a = 2 (top)
   *   Pop b = 1 (new top)
   *
   *   Compare: Does 2 know 1?
   *   M[2][1] = 1 â†’ YES! 2 knows 1
   *
   *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   *   â”‚  2 â”€â”€knowsâ”€â”€> 1                         â”‚
   *   â”‚                                         â”‚
   *   â”‚  Person 2 jaanta hai kisi ko            â”‚
   *   â”‚  â†’ 2 celebrity NAHI ho sakta            â”‚
   *   â”‚  â†’ Eliminate 2, keep 1                  â”‚
   *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *   stack.push(1)
   *
   *   Stack after:
   *   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”
   *   â”‚ 0 â”‚ 1 â”‚ â† top
   *   â””â”€â”€â”€â”´â”€â”€â”€â”˜
   *
   *   Eliminated: [3, 2]
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * Iteration 3: stack.length = 2 > 1 âœ“
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   *   Pop a = 1 (top)
   *   Pop b = 0 (new top)
   *
   *   Compare: Does 1 know 0?
   *   M[1][0] = 0 â†’ NO! 1 does NOT know 0
   *
   *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   *   â”‚  1 â”€â”€âœ—â”€â”€> 0                             â”‚
   *   â”‚                                         â”‚
   *   â”‚  Person 1 doesn't know Person 0         â”‚
   *   â”‚  â†’ Koi hai jo 0 ko nahi jaanta          â”‚
   *   â”‚  â†’ 0 celebrity NAHI ho sakta            â”‚
   *   â”‚  â†’ Eliminate 0, keep 1                  â”‚
   *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *   stack.push(1)
   *
   *   Stack after:
   *   â”Œâ”€â”€â”€â”
   *   â”‚ 1 â”‚ â† only one left!
   *   â””â”€â”€â”€â”˜
   *
   *   Eliminated: [3, 2, 0]
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * Loop ends: stack.length = 1, not > 1
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   * candidate = stack.pop() = 1
   *
   * Summary of elimination:
   * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   * â”‚  Comparison 1: 3 vs 2 â†’ 3 knows 2 â†’ Eliminate 3             â”‚
   * â”‚  Comparison 2: 2 vs 1 â†’ 2 knows 1 â†’ Eliminate 2             â”‚
   * â”‚  Comparison 3: 1 vs 0 â†’ 1 doesn't know 0 â†’ Eliminate 0      â”‚
   * â”‚                                                              â”‚
   * â”‚  3 comparisons, 3 eliminations â†’ 1 CANDIDATE remains        â”‚
   * â”‚  Candidate = Person 1                                        â”‚
   * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * PHASE 3: Verification
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * Candidate = 1
   * Need to verify:
   * 1. Person 1 knows NOBODY (row 1 should be all 0s)
   * 2. EVERYONE knows person 1 (column 1 should be all 1s)
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * i = 0 (i â‰  candidate)
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   *   CHECK 1: Does candidate know person 0?
   *   M[1][0] = 0 â†’ NO âœ“ (Good! Celebrity shouldn't know anyone)
   *
   *   CHECK 2: Does person 0 know candidate?
   *   M[0][1] = 1 â†’ YES âœ“ (Good! Everyone should know celebrity)
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * i = 1 (i === candidate, SKIP)
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * i = 2 (i â‰  candidate)
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   *   CHECK 1: Does candidate know person 2?
   *   M[1][2] = 0 â†’ NO âœ“
   *
   *   CHECK 2: Does person 2 know candidate?
   *   M[2][1] = 1 â†’ YES âœ“
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * i = 3 (i â‰  candidate)
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   *   CHECK 1: Does candidate know person 3?
   *   M[1][3] = 0 â†’ NO âœ“
   *
   *   CHECK 2: Does person 3 know candidate?
   *   M[3][1] = 1 â†’ YES âœ“
   *
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   * All checks passed!
   * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * RESULT: Celebrity = 1 âœ“
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * DRY RUN 2: NO CELEBRITY CASE
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * M = [
   *   [0, 1],   // Person 0 knows: 1
   *   [1, 0]    // Person 1 knows: 0
   * ]
   *
   * Both know each other - no celebrity possible!
   *
   * PHASE 1: Stack = [0, 1]
   *
   * PHASE 2: Elimination
   *   Pop a = 1, b = 0
   *   M[1][0] = 1 â†’ 1 knows 0 â†’ Eliminate 1, keep 0
   *   Stack = [0]
   *
   *   candidate = 0
   *
   * PHASE 3: Verification
   *   i = 1:
   *     CHECK 1: M[0][1] = 1 â†’ 0 knows 1 âŒ
   *     â†’ Candidate 0 knows someone!
   *     â†’ return -1
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * RESULT: -1 (No celebrity) âœ“
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * WHY IS THIS O(n)?
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * Phase 1: Push n persons â†’ O(n)
   * Phase 2: n-1 comparisons (each eliminates 1) â†’ O(n)
   * Phase 3: Verify against n-1 persons â†’ O(n)
   *
   * Total: O(n) + O(n) + O(n) = O(n)
   *
   * Compare with Brute Force O(nÂ²):
   * - Brute: Check each of n persons, each check is O(n)
   * - Stack: Eliminate n-1 in O(n), verify 1 in O(n)
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * WHY VERIFICATION IS NECESSARY?
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * Elimination phase sirf "potential" candidate dhundta hai.
   * Ye GUARANTEE nahi deta ki candidate celebrity hai.
   *
   * Example: M = [[0,0], [0,0]]
   * - Neither knows anyone
   * - Elimination: 1 doesn't know 0 â†’ Eliminate 0, keep 1
   * - Candidate = 1
   * - But verify: M[0][1] = 0 â†’ Person 0 doesn't know 1!
   * - Celebrity ko sab jaanne chahiye, but 0 doesn't know 1
   * - So no celebrity exists â†’ return -1
   */

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // TEST CASES
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  export function runTests(): void {
    console.log('ğŸ§ª Testing Celebrity Problem - STACK (Optimal)\n');

    const tests: Array<{
      M: number[][];
      expected: number;
      description: string;
    }> = [
      {
        M: [
          [0, 1, 1, 0],
          [0, 0, 0, 0],
          [1, 1, 0, 0],
          [0, 1, 1, 0],
        ],
        expected: 1,
        description: 'Example 1 - Person 1 is celebrity',
      },
      {
        M: [
          [0, 1],
          [1, 0],
        ],
        expected: -1,
        description: 'Both know each other - No celebrity',
      },
      {
        M: [
          [0, 0, 1],
          [0, 0, 1],
          [0, 0, 0],
        ],
        expected: 2,
        description: 'Example 3 - Person 2 is celebrity',
      },
      {
        M: [
          [0, 0],
          [0, 0],
        ],
        expected: -1,
        description: 'Neither knows the other - No celebrity',
      },
      {
        M: [
          [0, 0],
          [1, 0],
        ],
        expected: 0,
        description: 'Person 0 is celebrity (2 people)',
      },
      {
        M: [
          [0, 1],
          [0, 0],
        ],
        expected: 1,
        description: 'Person 1 is celebrity (2 people)',
      },
      {
        M: [
          [0, 0, 0],
          [1, 0, 0],
          [1, 0, 0],
        ],
        expected: 0,
        description: 'Celebrity at index 0',
      },
      {
        M: [
          [0, 1, 1],
          [1, 0, 1],
          [1, 1, 0],
        ],
        expected: -1,
        description: 'Everyone knows everyone - No celebrity',
      },
      {
        M: [
          [0, 0, 1, 0],
          [0, 0, 1, 0],
          [0, 0, 0, 0],
          [0, 0, 1, 0],
        ],
        expected: 2,
        description: 'Celebrity in middle (index 2)',
      },
      {
        M: [
          [0, 1, 1, 1, 1],
          [0, 0, 0, 0, 0],
          [0, 1, 0, 0, 0],
          [0, 1, 0, 0, 0],
          [0, 1, 0, 0, 0],
        ],
        expected: 1,
        description: '5 people - Person 1 is celebrity',
      },
      {
        M: [
          [0, 0, 0, 0],
          [0, 0, 0, 0],
          [0, 0, 0, 0],
          [0, 0, 0, 0],
        ],
        expected: -1,
        description: 'Nobody knows anyone - No celebrity',
      },
      {
        M: [
          [0, 1, 0, 1],
          [0, 0, 0, 0],
          [1, 1, 0, 0],
          [0, 1, 0, 0],
        ],
        expected: 1,
        description: 'Complex case - Person 1 is celebrity',
      },
    ];

    let passed = 0;
    let failed = 0;

    tests.forEach((test, index) => {
      const result = findCelebrity(test.M);
      const isEqual = result === test.expected;
      const status = isEqual ? 'âœ… PASS' : 'âŒ FAIL';

      if (isEqual) {
        passed++;
      } else {
        failed++;
      }

      console.log(`Test ${index + 1}: ${status}`);
      console.log(`  Description: ${test.description}`);
      console.log(`  Matrix (${test.M.length}x${test.M.length}):`);
      test.M.forEach((row, i) => {
        console.log(`    [${row.join(', ')}]${i === result ? ' â† found' : ''}`);
      });
      console.log(`  Expected: ${test.expected}`);
      console.log(`  Got:      ${result}`);
      console.log();
    });

    console.log(
      'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'
    );
    console.log(`Total Tests: ${tests.length}`);
    console.log(`âœ… Passed: ${passed}`);
    console.log(`âŒ Failed: ${failed}`);
    console.log(
      'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n'
    );

    if (failed === 0) {
      console.log('ğŸ‰ All tests passed! Stack approach understood! ğŸš€\n');
      console.log('ğŸ“Š Complexity: Time O(n), Space O(n)\n');
      console.log('ğŸ’¡ Two Pointers approach can do O(1) space!\n');
    }
  }
}

// Execute tests
CelebrityStack.runTests();