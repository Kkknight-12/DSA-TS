/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * NUMBER OF SUBSTRINGS CONTAINING ALL THREE CHARACTERS - SLIDING WINDOW
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * Problem: Count substrings containing at least one 'a', 'b', and 'c'
 *
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * SLIDING WINDOW INTUITION (Soch)
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚  BRUTE FORCE PROBLEM:                                                      â”‚
 * â”‚  For each starting position i, we scan from i to find first valid j        â”‚
 * â”‚  This causes repeated work! We're scanning overlapping regions.            â”‚
 * â”‚                                                                            â”‚
 * â”‚  SLIDING WINDOW OPTIMIZATION:                                              â”‚
 * â”‚  Instead of resetting for each i, we SLIDE the window!                     â”‚
 * â”‚                                                                            â”‚
 * â”‚  Key Observation:                                                          â”‚
 * â”‚  - If s[i..j] is valid (has a,b,c)                                         â”‚
 * â”‚  - Then s[i+1..j] might still be valid (or need to expand right)           â”‚
 * â”‚  - We don't need to start from scratch!                                    â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * THE APPROACH - SHRINK LEFT, EXPAND RIGHT
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚                                                                            â”‚
 * â”‚  For each position as RIGHT endpoint:                                      â”‚
 * â”‚  1. Add s[right] to window                                                 â”‚
 * â”‚  2. While window is valid (has all 3 chars):                               â”‚
 * â”‚     - Count all valid substrings ending at right                           â”‚
 * â”‚     - Shrink from left (remove s[left], move left++)                       â”‚
 * â”‚                                                                            â”‚
 * â”‚  WHY COUNT = (n - right)?                                                  â”‚
 * â”‚  - Current window s[left..right] is valid                                  â”‚
 * â”‚  - All extensions s[left..right+1], s[left..right+2]... are valid too!     â”‚
 * â”‚  - So for this left position, there are (n - right) valid substrings       â”‚
 * â”‚                                                                            â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * Visual Example:
 *
 *   s = "a b c a b c"
 *        0 1 2 3 4 5
 *
 *   right=2: window "abc" valid, left=0
 *            count += 6-2 = 4 (substrings: abc, abca, abcab, abcabc)
 *            shrink: remove 'a', left=1
 *
 *   right=2: window "bc" invalid (missing 'a'), exit while
 *
 *   right=3: add 'a', window "bca" valid, left=1
 *            count += 6-3 = 3 (substrings: bca, bcab, bcabc)
 *            shrink: remove 'b', left=2
 *
 *   ... and so on
 *
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * Time Complexity: O(n) - each character visited at most twice (once by right, once by left)
 * Space Complexity: O(1) - only 3-element frequency array
 *
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

namespace NumberOfSubstringsContainingAllThreeSlidingWindow {
  /**
   * Count substrings containing at least one 'a', 'b', and 'c' - SLIDING WINDOW
   *
   * @param s - String containing only 'a', 'b', 'c'
   * @returns Number of valid substrings
   */
  function numberOfSubstrings(s: string): number {
    const n = s.length;
    let count = 0;

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // FREQUENCY ARRAY: Track count of 'a', 'b', 'c' in current window
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Index 0 = 'a', Index 1 = 'b', Index 2 = 'c'
    const freq = [0, 0, 0];

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // LEFT POINTER: Start of current window
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    let left = 0;

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // RIGHT POINTER: Expand window by moving right
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    for (let right = 0; right < n; right++) {
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // STEP 1: Add current character to window
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // Convert 'a'/'b'/'c' to index 0/1/2
      const charIndex = s.charCodeAt(right) - 97; // 97 is 'a'.charCodeAt(0)
      freq[charIndex]++;

      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      // STEP 2: While window is valid, count and shrink
      // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      //
      // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      // â”‚  WHY WHILE LOOP (not just IF)?                            â”‚
      // â”‚                                                            â”‚
      // â”‚  After shrinking, window might STILL be valid!             â”‚
      // â”‚  Example: s = "aabcbc"                                     â”‚
      // â”‚           Window "aabc" is valid                           â”‚
      // â”‚           After removing first 'a': "abc" still valid!     â”‚
      // â”‚           We need to count for EACH valid left position    â”‚
      // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

      while (freq[0] >= 1 && freq[1] >= 1 && freq[2] >= 1) {
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // STEP 2a: Count valid substrings for current left position
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //
        // â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        // â”‚  Current window: s[left..right] is valid                  â”‚
        // â”‚                                                            â”‚
        // â”‚  All these substrings are valid:                          â”‚
        // â”‚  - s[left..right]                                         â”‚
        // â”‚  - s[left..right+1]                                       â”‚
        // â”‚  - s[left..right+2]                                       â”‚
        // â”‚  - ...                                                    â”‚
        // â”‚  - s[left..n-1]                                           â”‚
        // â”‚                                                            â”‚
        // â”‚  Total = (n - 1) - right + 1 = n - right                  â”‚
        // â”‚                                                            â”‚
        // â”‚  Example: s = "abcabc", left=0, right=2                   â”‚
        // â”‚  Valid: "abc"(0-2), "abca"(0-3), "abcab"(0-4), "abcabc"(0-5) â”‚
        // â”‚  Count = 6 - 2 = 4 âœ…                                     â”‚
        // â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        count += n - right;

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // STEP 2b: Shrink window from left
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        // Remove leftmost character from frequency
        const leftCharIndex = s.charCodeAt(left) - 97;
        freq[leftCharIndex]--;

        // Move left pointer forward
        left++;
      }
    }

    return count;
  }

  /**
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * DRY RUN - COMPLETE VISUALIZATION
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * Example: s = "abcabc", n = 6
   *              Index: 0 1 2 3 4 5
   *
   * Initial: freq = [0, 0, 0], left = 0, count = 0
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * right = 0: s[0] = 'a'
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *   Add 'a': freq = [1, 0, 0]
   *
   *   Window: [a]
   *            â†‘
   *          left=0, right=0
   *
   *   Check: freq[0]>=1 && freq[1]>=1 && freq[2]>=1?
   *          1>=1 && 0>=1 && 0>=1? â†’ NO (missing b, c)
   *
   *   No counting, no shrinking
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * right = 1: s[1] = 'b'
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *   Add 'b': freq = [1, 1, 0]
   *
   *   Window: [a b]
   *            â†‘   â†‘
   *          left  right
   *
   *   Check: 1>=1 && 1>=1 && 0>=1? â†’ NO (missing c)
   *
   *   No counting, no shrinking
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * right = 2: s[2] = 'c'
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *   Add 'c': freq = [1, 1, 1]
   *
   *   Window: [a b c] a b c
   *            â†‘     â†‘
   *          left  right
   *
   *   Check: 1>=1 && 1>=1 && 1>=1? â†’ YES! âœ…
   *
   *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   *   â”‚ WHILE LOOP - Iteration 1               â”‚
   *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   *   â”‚ count += 6 - 2 = 4                     â”‚
   *   â”‚ Valid substrings starting at left=0:   â”‚
   *   â”‚ "abc", "abca", "abcab", "abcabc"       â”‚
   *   â”‚                                        â”‚
   *   â”‚ Shrink: remove 'a' (s[0])              â”‚
   *   â”‚ freq = [0, 1, 1], left = 1             â”‚
   *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *   Window: a [b c] a b c
   *              â†‘   â†‘
   *            left  right
   *
   *   Check: 0>=1 && 1>=1 && 1>=1? â†’ NO (missing a)
   *
   *   Exit while loop
   *   count = 4
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * right = 3: s[3] = 'a'
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *   Add 'a': freq = [1, 1, 1]
   *
   *   Window: a [b c a] b c
   *              â†‘     â†‘
   *            left  right
   *
   *   Check: 1>=1 && 1>=1 && 1>=1? â†’ YES! âœ…
   *
   *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   *   â”‚ WHILE LOOP - Iteration 1               â”‚
   *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   *   â”‚ count += 6 - 3 = 3                     â”‚
   *   â”‚ Valid substrings starting at left=1:   â”‚
   *   â”‚ "bca", "bcab", "bcabc"                 â”‚
   *   â”‚                                        â”‚
   *   â”‚ Shrink: remove 'b' (s[1])              â”‚
   *   â”‚ freq = [1, 0, 1], left = 2             â”‚
   *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *   Window: a b [c a] b c
   *                â†‘   â†‘
   *              left  right
   *
   *   Check: 1>=1 && 0>=1 && 1>=1? â†’ NO (missing b)
   *
   *   Exit while loop
   *   count = 4 + 3 = 7
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * right = 4: s[4] = 'b'
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *   Add 'b': freq = [1, 1, 1]
   *
   *   Window: a b [c a b] c
   *                â†‘     â†‘
   *              left  right
   *
   *   Check: 1>=1 && 1>=1 && 1>=1? â†’ YES! âœ…
   *
   *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   *   â”‚ WHILE LOOP - Iteration 1               â”‚
   *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   *   â”‚ count += 6 - 4 = 2                     â”‚
   *   â”‚ Valid substrings starting at left=2:   â”‚
   *   â”‚ "cab", "cabc"                          â”‚
   *   â”‚                                        â”‚
   *   â”‚ Shrink: remove 'c' (s[2])              â”‚
   *   â”‚ freq = [1, 1, 0], left = 3             â”‚
   *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *   Window: a b c [a b] c
   *                  â†‘   â†‘
   *                left  right
   *
   *   Check: 1>=1 && 1>=1 && 0>=1? â†’ NO (missing c)
   *
   *   Exit while loop
   *   count = 7 + 2 = 9
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * right = 5: s[5] = 'c'
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   *   Add 'c': freq = [1, 1, 1]
   *
   *   Window: a b c [a b c]
   *                  â†‘     â†‘
   *                left  right
   *
   *   Check: 1>=1 && 1>=1 && 1>=1? â†’ YES! âœ…
   *
   *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   *   â”‚ WHILE LOOP - Iteration 1               â”‚
   *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   *   â”‚ count += 6 - 5 = 1                     â”‚
   *   â”‚ Valid substrings starting at left=3:   â”‚
   *   â”‚ "abc"                                  â”‚
   *   â”‚                                        â”‚
   *   â”‚ Shrink: remove 'a' (s[3])              â”‚
   *   â”‚ freq = [0, 1, 1], left = 4             â”‚
   *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *   Window: a b c a [b c]
   *                    â†‘   â†‘
   *                  left  right
   *
   *   Check: 0>=1 && 1>=1 && 1>=1? â†’ NO (missing a)
   *
   *   Exit while loop
   *   count = 9 + 1 = 10
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * FINAL RESULT: count = 10 âœ…
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * Breakdown:
   * - right=2: counted 4 substrings starting at index 0
   * - right=3: counted 3 substrings starting at index 1
   * - right=4: counted 2 substrings starting at index 2
   * - right=5: counted 1 substring starting at index 3
   *
   * Total = 4 + 3 + 2 + 1 = 10 âœ…
   *
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * DRY RUN 2: s = "aaabbbccc", n = 9
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * Initial: freq = [0, 0, 0], left = 0, count = 0
   *
   * right=0: 'a', freq=[1,0,0], invalid
   * right=1: 'a', freq=[2,0,0], invalid
   * right=2: 'a', freq=[3,0,0], invalid
   * right=3: 'b', freq=[3,1,0], invalid
   * right=4: 'b', freq=[3,2,0], invalid
   * right=5: 'b', freq=[3,3,0], invalid
   * right=6: 'c', freq=[3,3,1], VALID! âœ…
   *
   *   Window: [a a a b b b c] c c
   *            â†‘             â†‘
   *          left=0       right=6
   *
   *   While loop iteration 1:
   *     count += 9 - 6 = 3
   *     Valid: "aaabbbc", "aaabbbcc", "aaabbbccc"
   *     Remove 'a': freq=[2,3,1], left=1
   *
   *   Check: 2>=1 && 3>=1 && 1>=1? â†’ YES! Still valid!
   *
   *   While loop iteration 2:
   *     count += 9 - 6 = 3
   *     Valid: "aabbbc", "aabbbcc", "aabbbccc"
   *     Remove 'a': freq=[1,3,1], left=2
   *
   *   Check: 1>=1 && 3>=1 && 1>=1? â†’ YES! Still valid!
   *
   *   While loop iteration 3:
   *     count += 9 - 6 = 3
   *     Valid: "abbbc", "abbbcc", "abbbccc"
   *     Remove 'a': freq=[0,3,1], left=3
   *
   *   Check: 0>=1? â†’ NO (missing a)
   *
   *   Exit while loop
   *   count = 3 + 3 + 3 = 9
   *
   * right=7: 'c', freq=[0,3,2], invalid (missing a)
   * right=8: 'c', freq=[0,3,3], invalid (missing a)
   *
   * FINAL RESULT: count = 9 âœ…
   *
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * TIME COMPLEXITY ANALYSIS
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   * â”‚  Each character is visited at most TWICE:                                 â”‚
   * â”‚  - Once when added by right pointer                                       â”‚
   * â”‚  - Once when removed by left pointer                                      â”‚
   * â”‚                                                                            â”‚
   * â”‚  Total operations: 2n = O(n)                                              â”‚
   * â”‚                                                                            â”‚
   * â”‚  This is better than brute force's O(nÂ²)!                                 â”‚
   * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * COMPARISON WITH BRUTE FORCE
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   * â”‚                                                                            â”‚
   * â”‚  BRUTE FORCE:                                                              â”‚
   * â”‚  - For each i, scan from i to find first valid j                          â”‚
   * â”‚  - Repeated scanning of overlapping regions                                â”‚
   * â”‚  - O(nÂ²) time                                                              â”‚
   * â”‚                                                                            â”‚
   * â”‚  SLIDING WINDOW:                                                           â”‚
   * â”‚  - Maintain window [left, right]                                           â”‚
   * â”‚  - right only moves forward                                                â”‚
   * â”‚  - left only moves forward                                                 â”‚
   * â”‚  - Never revisit characters!                                               â”‚
   * â”‚  - O(n) time                                                               â”‚
   * â”‚                                                                            â”‚
   * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   *
   *
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * EDGE CASES
   * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   *
   * 1. s = "abc" â†’ Window becomes valid at right=2, count = 3-2 = 1 âœ…
   * 2. s = "aaa" â†’ Never valid (no b, c) â†’ 0 âœ…
   * 3. s = "cba" â†’ Valid at right=2, count = 3-2 = 1 âœ…
   */

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // TEST CASES
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  export function runTests(): void {
    console.log(
      'ğŸ§ª Testing Number of Substrings Containing All Three - SLIDING WINDOW\n'
    );
    console.log('â•'.repeat(60) + '\n');

    const testCases: {
      s: string;
      expected: number;
      description: string;
    }[] = [
      // Examples from problem
      {
        s: 'abcabc',
        expected: 10,
        description: 'Example 1 - repeated pattern',
      },
      {
        s: 'aaacb',
        expected: 3,
        description: "Example 2 - multiple a's at start",
      },
      {
        s: 'abc',
        expected: 1,
        description: 'Example 3 - minimum valid string',
      },

      // Given examples
      {
        s: 'abcba',
        expected: 5,
        description: 'Palindrome-like',
      },
      {
        s: 'ccabcc',
        expected: 8,
        description: "c's on both ends",
      },

      // Edge cases
      {
        s: 'aaa',
        expected: 0,
        description: 'Only one character type',
      },
      {
        s: 'aabb',
        expected: 0,
        description: 'Missing c',
      },
      {
        s: 'cba',
        expected: 1,
        description: 'Reverse order',
      },
      {
        s: 'cab',
        expected: 1,
        description: 'Different order',
      },

      // More complex
      {
        s: 'abcabcabc',
        expected: 28,
        description: 'Three repetitions',
      },
      {
        s: 'aaabbbccc',
        expected: 9,
        description: 'Grouped characters',
      },
      {
        s: 'abccba',
        expected: 7,
        description: 'Palindrome',
      },
    ];

    let passed = 0;
    let failed = 0;

    for (let i = 0; i < testCases.length; i++) {
      const { s, expected, description } = testCases[i];
      const result = numberOfSubstrings(s);
      const status = result === expected ? 'âœ… PASS' : 'âŒ FAIL';

      if (result === expected) {
        passed++;
      } else {
        failed++;
      }

      console.log(`Test ${i + 1}: ${status}`);
      console.log(`  Description: ${description}`);
      console.log(`  Input: s = "${s}"`);
      console.log(`  Expected: ${expected}`);
      console.log(`  Got: ${result}`);
      console.log();
    }

    console.log('â•'.repeat(60));
    console.log(`\nğŸ“Š Results: ${passed} passed, ${failed} failed\n`);

    if (failed === 0) {
      console.log('ğŸ‰ All tests passed! Sliding Window samajh aa gaya! ğŸš€');
      console.log('ğŸ“Š Complexity: Time O(n), Space O(1)');
      console.log('\nğŸ’¡ Key Insight: Each character visited at most TWICE');
      console.log('ğŸ’¡ Pattern: Expand right, shrink left while valid');
      console.log('ğŸ’¡ Count: For each valid left, add (n - right)');
    }
  }
}

// Execute tests
NumberOfSubstringsContainingAllThreeSlidingWindow.runTests();