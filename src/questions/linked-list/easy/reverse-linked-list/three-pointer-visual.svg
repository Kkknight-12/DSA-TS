<svg width="1000" height="1600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="500" y="40" font-size="28" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    Reversing Linked List: The Arrow Flipping Game
  </text>
  <text x="500" y="70" font-size="16" text-anchor="middle" fill="#7f8c8d">
    Three pointers working together to flip each arrow
  </text>

  <!-- Original List -->
  <rect x="50" y="100" width="900" height="120" fill="#ecf0f1" stroke="#95a5a6" stroke-width="2" rx="8"/>
  <text x="500" y="130" font-size="18" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    Original List (Arrows going right â†’)
  </text>

  <!-- Original nodes -->
  <circle cx="150" cy="180" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="150" y="188" font-size="18" font-weight="bold" text-anchor="middle" fill="white">1</text>

  <line x1="175" y1="180" x2="225" y2="180" stroke="#2c3e50" stroke-width="3"/>
  <polygon points="225,180 215,175 215,185" fill="#2c3e50"/>

  <circle cx="250" cy="180" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="250" y="188" font-size="18" font-weight="bold" text-anchor="middle" fill="white">2</text>

  <line x1="275" y1="180" x2="325" y2="180" stroke="#2c3e50" stroke-width="3"/>
  <polygon points="325,180 315,175 315,185" fill="#2c3e50"/>

  <circle cx="350" cy="180" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="350" y="188" font-size="18" font-weight="bold" text-anchor="middle" fill="white">3</text>

  <line x1="375" y1="180" x2="425" y2="180" stroke="#2c3e50" stroke-width="3"/>
  <polygon points="425,180 415,175 415,185" fill="#2c3e50"/>

  <circle cx="450" cy="180" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="450" y="188" font-size="18" font-weight="bold" text-anchor="middle" fill="white">4</text>

  <line x1="475" y1="180" x2="525" y2="180" stroke="#2c3e50" stroke-width="3"/>
  <polygon points="525,180 515,175 515,185" fill="#2c3e50"/>

  <circle cx="550" cy="180" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="550" y="188" font-size="18" font-weight="bold" text-anchor="middle" fill="white">5</text>

  <text x="590" y="185" font-size="16" fill="#7f8c8d">â†’ null</text>

  <!-- Iteration 1 -->
  <rect x="50" y="260" width="900" height="200" fill="#fff9e6" stroke="#f39c12" stroke-width="3" rx="8"/>
  <text x="500" y="290" font-size="20" font-weight="bold" text-anchor="middle" fill="#f39c12">
    Iteration 1: Flip the first arrow!
  </text>

  <!-- Step by step -->
  <text x="80" y="320" font-size="14" fill="#7f8c8d">Before:</text>

  <!-- Before state -->
  <circle cx="150" cy="350" r="25" fill="#e74c3c" stroke="#2c3e50" stroke-width="3"/>
  <text x="150" y="358" font-size="16" font-weight="bold" text-anchor="middle" fill="white">1</text>
  <text x="150" y="390" font-size="12" font-weight="bold" text-anchor="middle" fill="#e74c3c">curr</text>

  <line x1="175" y1="350" x2="225" y2="350" stroke="#7f8c8d" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="225,350 215,345 215,355" fill="#7f8c8d"/>
  <text x="200" y="340" font-size="11" fill="#e74c3c">Old arrow</text>

  <circle cx="250" cy="350" r="25" fill="#95a5a6" stroke="#2c3e50" stroke-width="2"/>
  <text x="250" y="358" font-size="16" font-weight="bold" text-anchor="middle" fill="white">2</text>
  <text x="250" y="390" font-size="12" font-weight="bold" text-anchor="middle" fill="#95a5a6">next</text>

  <text x="100" y="350" font-size="14" fill="#7f8c8d">null â†</text>
  <text x="100" y="390" font-size="12" font-weight="bold" text-anchor="middle" fill="#3498db">prev</text>

  <!-- Arrow showing the flip -->
  <text x="350" y="360" font-size="40" text-anchor="middle" fill="#f39c12">âŸ²</text>
  <text x="350" y="380" font-size="12" text-anchor="middle" fill="#f39c12">FLIP!</text>

  <!-- After state -->
  <text x="450" y="320" font-size="14" fill="#7f8c8d">After:</text>

  <circle cx="550" cy="350" r="25" fill="#e74c3c" stroke="#2c3e50" stroke-width="3"/>
  <text x="550" y="358" font-size="16" font-weight="bold" text-anchor="middle" fill="white">1</text>

  <line x1="525" y1="350" x2="480" y2="350" stroke="#27ae60" stroke-width="4"/>
  <polygon points="480,350 490,345 490,355" fill="#27ae60"/>
  <text x="505" y="340" font-size="11" fill="#27ae60" font-weight="bold">Flipped!</text>

  <text x="460" y="350" font-size="14" fill="#7f8c8d">null</text>

  <circle cx="650" cy="350" r="25" fill="#95a5a6" stroke="#2c3e50" stroke-width="2"/>
  <text x="650" y="358" font-size="16" font-weight="bold" text-anchor="middle" fill="white">2</text>

  <text x="500" y="430" font-size="13" fill="#7f8c8d">
    Then: prev = curr (1), curr = next (2)
  </text>

  <!-- Iteration 2 -->
  <rect x="50" y="500" width="900" height="200" fill="#e8f5e9" stroke="#27ae60" stroke-width="3" rx="8"/>
  <text x="500" y="530" font-size="20" font-weight="bold" text-anchor="middle" fill="#27ae60">
    Iteration 2: Flip the second arrow!
  </text>

  <text x="80" y="560" font-size="14" fill="#7f8c8d">Before:</text>

  <circle cx="130" cy="590" r="25" fill="#95a5a6" stroke="#2c3e50" stroke-width="2"/>
  <text x="130" y="598" font-size="16" font-weight="bold" text-anchor="middle" fill="white">1</text>
  <text x="130" y="630" font-size="12" font-weight="bold" text-anchor="middle" fill="#3498db">prev</text>
  <text x="90" y="590" font-size="14" fill="#7f8c8d">null â†</text>

  <circle cx="230" cy="590" r="25" fill="#e74c3c" stroke="#2c3e50" stroke-width="3"/>
  <text x="230" y="598" font-size="16" font-weight="bold" text-anchor="middle" fill="white">2</text>
  <text x="230" y="630" font-size="12" font-weight="bold" text-anchor="middle" fill="#e74c3c">curr</text>

  <line x1="255" y1="590" x2="305" y2="590" stroke="#7f8c8d" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="305,590 295,585 295,595" fill="#7f8c8d"/>

  <circle cx="330" cy="590" r="25" fill="#95a5a6" stroke="#2c3e50" stroke-width="2"/>
  <text x="330" y="598" font-size="16" font-weight="bold" text-anchor="middle" fill="white">3</text>
  <text x="330" y="630" font-size="12" font-weight="bold" text-anchor="middle" fill="#95a5a6">next</text>

  <text x="430" y="600" font-size="40" text-anchor="middle" fill="#27ae60">âŸ²</text>

  <text x="530" y="560" font-size="14" fill="#7f8c8d">After:</text>

  <circle cx="600" cy="590" r="25" fill="#95a5a6" stroke="#2c3e50" stroke-width="2"/>
  <text x="600" y="598" font-size="16" font-weight="bold" text-anchor="middle" fill="white">1</text>
  <text x="560" y="590" font-size="14" fill="#7f8c8d">null â†</text>

  <circle cx="700" cy="590" r="25" fill="#e74c3c" stroke="#2c3e50" stroke-width="3"/>
  <text x="700" y="598" font-size="16" font-weight="bold" text-anchor="middle" fill="white">2</text>

  <line x1="675" y1="590" x2="625" y2="590" stroke="#27ae60" stroke-width="4"/>
  <polygon points="625,590 635,585 635,595" fill="#27ae60"/>

  <circle cx="800" cy="590" r="25" fill="#95a5a6" stroke="#2c3e50" stroke-width="2"/>
  <text x="800" y="598" font-size="16" font-weight="bold" text-anchor="middle" fill="white">3</text>

  <!-- Pattern continues -->
  <text x="500" y="740" font-size="24" font-weight="bold" text-anchor="middle" fill="#7f8c8d">
    â‹®  Continue flipping each arrow...  â‹®
  </text>

  <!-- Final Result -->
  <rect x="50" y="800" width="900" height="180" fill="#d5f4e6" stroke="#27ae60" stroke-width="4" rx="8"/>
  <text x="500" y="835" font-size="22" font-weight="bold" text-anchor="middle" fill="#27ae60">
    âœ“ Final Result: All arrows flipped! (curr = null, return prev)
  </text>

  <text x="120" y="880" font-size="14" fill="#7f8c8d">null â†</text>

  <circle cx="180" cy="900" r="25" fill="#27ae60" stroke="#2c3e50" stroke-width="3"/>
  <text x="180" y="908" font-size="16" font-weight="bold" text-anchor="middle" fill="white">5</text>
  <text x="180" y="945" font-size="13" font-weight="bold" text-anchor="middle" fill="#27ae60">NEW HEAD</text>

  <line x1="205" y1="900" x2="255" y2="900" stroke="#27ae60" stroke-width="4"/>
  <polygon points="255,900 245,895 245,905" fill="#27ae60"/>

  <circle cx="280" cy="900" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="280" y="908" font-size="16" font-weight="bold" text-anchor="middle" fill="white">4</text>

  <line x1="305" y1="900" x2="355" y2="900" stroke="#27ae60" stroke-width="4"/>
  <polygon points="355,900 345,895 345,905" fill="#27ae60"/>

  <circle cx="380" cy="900" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="380" y="908" font-size="16" font-weight="bold" text-anchor="middle" fill="white">3</text>

  <line x1="405" y1="900" x2="455" y2="900" stroke="#27ae60" stroke-width="4"/>
  <polygon points="455,900 445,895 445,905" fill="#27ae60"/>

  <circle cx="480" cy="900" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="480" y="908" font-size="16" font-weight="bold" text-anchor="middle" fill="white">2</text>

  <line x1="505" y1="900" x2="555" y2="900" stroke="#27ae60" stroke-width="4"/>
  <polygon points="555,900 545,895 545,905" fill="#27ae60"/>

  <circle cx="580" cy="900" r="25" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
  <text x="580" y="908" font-size="16" font-weight="bold" text-anchor="middle" fill="white">1</text>

  <text x="620" y="905" font-size="16" fill="#7f8c8d">â†’ null</text>

  <!-- The Magic Box -->
  <rect x="50" y="1020" width="900" height="520" fill="#fff" stroke="#e74c3c" stroke-width="4" rx="10"/>

  <text x="500" y="1060" font-size="24" font-weight="bold" text-anchor="middle" fill="#e74c3c">
    ğŸ¯ The Three-Pointer Magic Explained
  </text>

  <!-- Visual representation of the algorithm -->
  <rect x="100" y="1090" width="800" height="430" fill="#fef5e7" stroke="#f39c12" stroke-width="2" rx="8"/>

  <text x="500" y="1125" font-size="18" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    The Four-Step Dance (Repeat for each node)
  </text>

  <!-- Step 1 -->
  <rect x="130" y="1150" width="740" height="60" fill="#ffebee" stroke="#e74c3c" stroke-width="2" rx="5"/>
  <text x="150" y="1175" font-size="16" font-weight="bold" fill="#e74c3c">Step 1:</text>
  <text x="230" y="1175" font-size="15" fill="#2c3e50">next = curr.next</text>
  <text x="150" y="1200" font-size="13" fill="#7f8c8d">â†’ Backup! Save the connection before we break it</text>

  <!-- Step 2 -->
  <rect x="130" y="1220" width="740" height="60" fill="#f3e5f5" stroke="#9b59b6" stroke-width="2" rx="5"/>
  <text x="150" y="1245" font-size="16" font-weight="bold" fill="#9b59b6">Step 2:</text>
  <text x="230" y="1245" font-size="15" fill="#2c3e50">curr.next = prev</text>
  <text x="150" y="1270" font-size="13" fill="#7f8c8d">â†’ FLIP! Make the arrow point backward (this is the magic!)</text>

  <!-- Step 3 -->
  <rect x="130" y="1290" width="740" height="60" fill="#e3f2fd" stroke="#3498db" stroke-width="2" rx="5"/>
  <text x="150" y="1315" font-size="16" font-weight="bold" fill="#3498db">Step 3:</text>
  <text x="230" y="1315" font-size="15" fill="#2c3e50">prev = curr</text>
  <text x="150" y="1340" font-size="13" fill="#7f8c8d">â†’ Move prev forward (curr becomes the new prev)</text>

  <!-- Step 4 -->
  <rect x="130" y="1360" width="740" height="60" fill="#e8f5e9" stroke="#27ae60" stroke-width="2" rx="5"/>
  <text x="150" y="1385" font-size="16" font-weight="bold" fill="#27ae60">Step 4:</text>
  <text x="230" y="1385" font-size="15" fill="#2c3e50">curr = next</text>
  <text x="150" y="1410" font-size="13" fill="#7f8c8d">â†’ Move curr forward using our backup (next)</text>

  <!-- Why box -->
  <rect x="130" y="1440" width="740" height="70" fill="#ecf0f1" stroke="#34495e" stroke-width="2" rx="5"/>
  <text x="150" y="1465" font-size="15" font-weight="bold" fill="#34495e">ğŸ’¡ Why three pointers?</text>
  <text x="150" y="1488" font-size="13" fill="#2c3e50">Without <tspan font-weight="bold" fill="#e74c3c">next</tspan>: We lose the rest of the list when we flip!</text>
  <text x="150" y="1505" font-size="13" fill="#2c3e50">Without <tspan font-weight="bold" fill="#3498db">prev</tspan>: We don't know where to point the arrow backward!</text>

  <!-- Footer -->
  <text x="500" y="1570" font-size="14" text-anchor="middle" fill="#7f8c8d">
    Loop stops when curr = null, then return prev as the new head!
  </text>
</svg>
